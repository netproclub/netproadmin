import{l as t,a as E,j as e}from"./index-DJB2iFl8.js";import{r as i}from"./vendor-BoGTwuKF.js";const c="ELIMINAR",T=({user:a})=>e.jsxs("div",{className:"user-preview",children:[e.jsxs("div",{className:"preview-header",children:[e.jsx("span",{className:"preview-icon","aria-hidden":"true",children:"üë§"}),e.jsx("h4",{className:"preview-title",children:"Informaci√≥n del Usuario a Eliminar"})]}),e.jsxs("div",{className:"user-details",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"ID"}),e.jsx("span",{className:"detail-value",children:a.id})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Usuario"}),e.jsx("span",{className:"detail-value",children:a.usuario||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Nombre Completo"}),e.jsx("span",{className:"detail-value",children:a.nombre&&a.apellido?`${a.nombre} ${a.apellido}`:a.nombre||a.apellido||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Email"}),e.jsx("span",{className:"detail-value",children:a.email||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Tel√©fono"}),e.jsx("span",{className:"detail-value",children:a.telefono||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Ciudad"}),e.jsx("span",{className:"detail-value",children:a.ciudad||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Especialidad"}),e.jsx("span",{className:"detail-value",children:a.especialidad||"N/A"})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Instagram"}),e.jsx("span",{className:"detail-value",children:a.instagram||"N/A"})]})]})]}),P=({user:a,confirmationText:d,onConfirmationChange:l,onConfirm:r,onCancel:o,isDeleting:n})=>{const x=d===c;return e.jsxs("div",{className:"confirmation-dialog",role:"dialog","aria-labelledby":"confirmation-title",children:[e.jsxs("div",{className:"dialog-header",children:[e.jsx("span",{className:"dialog-icon","aria-hidden":"true",children:"‚ö†Ô∏è"}),e.jsx("h4",{id:"confirmation-title",className:"dialog-title",children:"Confirmar Eliminaci√≥n"})]}),e.jsxs("div",{className:"dialog-message",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"¬°Advertencia!"})," Esta acci√≥n no se puede deshacer. El usuario ",e.jsx("strong",{children:a.usuario||`ID: ${a.id}`})," ser√° eliminado permanentemente del sistema."]}),e.jsxs("p",{children:["Para continuar, escriba ",e.jsxs("strong",{children:['"',c,'"']})," en el campo de abajo:"]})]}),e.jsxs("div",{className:"confirmation-input-group",children:[e.jsxs("label",{htmlFor:"confirmation-input",className:"confirmation-label",children:['Escriba "',c,'" para confirmar:']}),e.jsx("input",{id:"confirmation-input",type:"text",value:d,onChange:l,className:"confirmation-input",placeholder:c,autoComplete:"off",autoFocus:!0}),e.jsxs("div",{className:"confirmation-help",children:['Debe coincidir exactamente con "',c,'"']})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:o,className:"cancel-button",disabled:n,children:"Cancelar"}),e.jsx("button",{type:"button",onClick:r,className:"delete-button",disabled:!x||n,children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner","aria-hidden":"true"}),"Eliminando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{"aria-hidden":"true",children:"üóëÔ∏è"}),"Eliminar Usuario"]})})]})]})},q=()=>{const[a,d]=i.useState(""),[l,r]=i.useState(null),[o,n]=i.useState(""),[x,h]=i.useState(!1),[g,j]=i.useState(!1),[S,p]=i.useState(!1),[v,b]=i.useState(""),[C,m]=i.useState(""),u=i.useCallback(()=>{b(""),m("")},[]),I=i.useCallback(()=>{d(""),r(null),n(""),h(!1),j(!1),p(!1)},[]),U=i.useCallback(async()=>{var s;if(!a||a.trim()===""){m("Por favor, ingrese un ID de usuario v√°lido");return}try{j(!0),u(),t.info(`Searching for user with ID: ${a}`);const f=(s=(await E.getUsers()).data)==null?void 0:s.find(M=>M.id.toString()===a.toString());f?(r(f),t.info("User found for deletion",f)):(m("Usuario no encontrado. Verifique el ID e intente nuevamente."),r(null))}catch(N){t.error("Failed to search user",N),m(N.message||"Error al buscar el usuario"),r(null)}finally{j(!1)}},[a,u]),D=s=>{s.preventDefault(),U()},y=()=>{h(!0),n("")},w=()=>{h(!1),n("")},A=i.useCallback(async()=>{if(!(!l||o!==c))try{p(!0),u(),t.info(`Deleting user with ID: ${l.id}`);const s=await E.deleteUser(l.id);b(s.message||"Usuario eliminado exitosamente"),I(),t.info("User deleted successfully")}catch(s){t.error("Failed to delete user",s),m(s.message||"Error al eliminar el usuario"),p(!1)}},[l,o,u,I]),F=s=>{d(s.target.value),u(),r(null),h(!1)},k=s=>{n(s.target.value)};return e.jsxs("div",{className:"eliminar-container",children:[e.jsxs("header",{className:"eliminar-header",children:[e.jsx("h2",{className:"eliminar-title",children:"Eliminar Usuario"}),e.jsx("p",{className:"eliminar-subtitle",children:"Elimine permanentemente un usuario del sistema"})]}),e.jsxs("div",{className:"warning-banner",role:"alert",children:[e.jsx("span",{className:"warning-icon","aria-hidden":"true",children:"‚ö†Ô∏è"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Precauci√≥n:"})," Esta acci√≥n eliminar√° permanentemente el usuario y no se puede deshacer. Aseg√∫rese de tener el ID correcto antes de proceder."]})]}),e.jsxs("div",{className:"delete-card",children:[v&&e.jsxs("div",{className:"success-message",role:"alert",children:[e.jsx("span",{"aria-hidden":"true",children:"‚úÖ"}),v]}),C&&e.jsxs("div",{className:"error-message",role:"alert",children:[e.jsx("span",{"aria-hidden":"true",children:"‚ùå"}),C]}),x?e.jsx(P,{user:l,confirmationText:o,onConfirmationChange:k,onConfirm:A,onCancel:w,isDeleting:S}):e.jsxs("form",{className:"delete-form",onSubmit:D,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"userId",className:"form-label",children:["ID del Usuario a Eliminar",e.jsx("span",{className:"required-indicator","aria-hidden":"true",children:" *"})]}),e.jsx("input",{id:"userId",type:"number",value:a,onChange:F,className:"form-input",placeholder:"Ingrese el ID del usuario",min:"1",required:!0,"aria-describedby":"userId-help"}),e.jsx("div",{id:"userId-help",className:"form-help",children:"Ingrese el ID num√©rico del usuario que desea eliminar"})]}),l&&e.jsxs(e.Fragment,{children:[e.jsx(T,{user:l}),e.jsxs("div",{className:"info-message",children:[e.jsx("span",{"aria-hidden":"true",children:"‚ÑπÔ∏è"}),"Usuario encontrado. Revise la informaci√≥n y confirme si desea proceder con la eliminaci√≥n."]})]}),e.jsx("div",{className:"form-actions",children:l?e.jsxs("button",{type:"button",onClick:y,className:"delete-button",children:[e.jsx("span",{"aria-hidden":"true",children:"üóëÔ∏è"}),"Eliminar Usuario"]}):e.jsx("button",{type:"submit",className:"search-button",disabled:g||!a.trim(),children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner","aria-hidden":"true"}),"Buscando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{"aria-hidden":"true",children:"üîç"}),"Buscar Usuario"]})})})]})]})]})};export{q as default};
//# sourceMappingURL=Eliminar-5IlAwN7b.js.map
